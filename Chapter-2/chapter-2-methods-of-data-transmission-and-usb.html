<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methods and USB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-option {
            transition: background-color 0.3s, border-color 0.3s;
        }
        .correct {
            background-color: #d1fae5 !important; /* Tailwind green-100 */
            border-color: #10b981 !important; /* Tailwind green-500 */
            color: #047857; /* Tailwind green-800 */
        }
        .incorrect {
            background-color: #fee2e2 !important; /* Tailwind red-100 */
            border-color: #ef4444 !important; /* Tailwind red-500 */
            color: #b91c1c; /* Tailwind red-800 */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-3xl bg-white rounded-2xl shadow-lg p-6 md:p-8">
        <header class="mb-8 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Methods and USB</h1>
            <p class="text-gray-500 mt-2">Test your knowledge of the Chapter 2.</p>
        </header>

        <div id="quiz-container" class="space-y-8">
            </div>

        <div id="results-container" class="text-center mt-10 hidden">
            <h2 id="score-text" class="text-2xl font-bold mb-4"></h2>
            <button id="redo-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                Redo Quiz
            </button>
        </div>
    </div>

    <script>
        const quizData = [
    {
        "question": "[DEFINITION] What is serial data transmission?",
        "options": [
            "Data bits are sent one after another over a single channel.",
            "Multiple data bits are sent simultaneously over several channels.",
            "Data is sent in both directions at the same time.",
            "Data is sent only in one direction."
        ],
        "answer": "Data bits are sent one after another over a single channel."
    },
    {
        "question": "[DEFINITION] Which mode of transmission allows data to be sent in both directions, but not at the same time?",
        "options": [
            "Simplex",
            "Half-duplex",
            "Full-duplex",
            "Multiplex"
        ],
        "answer": "Half-duplex"
    },
    {
        "question": "[DEFINITION] What does the term 'baud rate' refer to?",
        "options": [
            "The total number of bits transmitted per second.",
            "The number of signal changes or symbols per second.",
            "The physical distance data can be transmitted.",
            "The number of wires used in the transmission."
        ],
        "answer": "The number of signal changes or symbols per second."
    },
    {
        "question": "A remote control for a television sends signals to the TV. This is an example of which mode of data transmission?",
        "options": [
            "Simplex",
            "Half-duplex",
            "Full-duplex",
            "Parallel"
        ],
        "answer": "Simplex"
    },
    {
        "question": "Which of the following is a key advantage of serial transmission over parallel transmission for long distances?",
        "options": [
            "It is significantly faster for the same number of bits.",
            "It is less prone to data skew and crosstalk errors.",
            "It uses more wires, making the cables cheaper.",
            "It can only send data in one direction."
        ],
        "answer": "It is less prone to data skew and crosstalk errors."
    },
    {
        "question": "A telephone conversation, where both people can speak and hear at the same time, is an example of which transmission mode?",
        "options": [
            "Simplex",
            "Half-duplex",
            "Full-duplex",
            "Serial"
        ],
        "answer": "Full-duplex"
    },
    {
        "question": "What is the primary function of the Universal Serial Bus (USB) interface?",
        "options": [
            "To provide a wireless connection to the internet.",
            "To provide a standardised way for connecting peripheral devices to a computer.",
            "To increase the processing speed of the CPU.",
            "To store the operating system and user files."
        ],
        "answer": "To provide a standardised way for connecting peripheral devices to a computer."
    },
    {
        "question": "An internal connection between a computer's processor and its main memory needs to be as fast as possible. Which method of transmission would be used?",
        "options": [
            "Serial",
            "Simplex",
            "Parallel",
            "Half-duplex"
        ],
        "answer": "Parallel"
    },
    {
        "question": "A walkie-talkie system requires users to press a button to talk and release it to listen. This is a classic example of:",
        "options": [
            "Simplex transmission",
            "Full-duplex transmission",
            "Parallel transmission",
            "Half-duplex transmission"
        ],
        "answer": "Half-duplex transmission"
    },
    {
        "question": "When a new device is connected via a USB port, the computer automatically detects it and installs the necessary driver. What is this feature called?",
        "options": [
            "Hot-swapping",
            "Plug and Play",
            "Serial communication",
            "Data skew"
        ],
        "answer": "Plug and Play"
    },
    {
        "question": "Which statement accurately describes the bit rate?",
        "options": [
            "It is always half the baud rate.",
            "It measures the number of bits (1s and 0s) transmitted per second.",
            "It is only relevant for parallel transmission.",
            "It measures the number of signal changes per minute."
        ],
        "answer": "It measures the number of bits (1s and 0s) transmitted per second."
    },
    {
        "question": "USB is a type of serial transmission. What is a benefit of this for the physical cable?",
        "options": [
            "The cable requires many internal wires, making it very thick.",
            "The cable is simpler and has fewer internal wires compared to a parallel cable.",
            "The cable can only be used over very short distances (less than 10cm).",
            "The cable does not need to carry power."
        ],
        "answer": "The cable is simpler and has fewer internal wires compared to a parallel cable."
    },
    {
        "question": "A user connects a mouse, keyboard, and webcam to their computer, all using the same type of rectangular port. What interface are they most likely using?",
        "options": [
            "HDMI",
            "VGA",
            "USB",
            "Ethernet"
        ],
        "answer": "USB"
    },
    {
        "question": "In parallel transmission, what is 'data skew'?",
        "options": [
            "When the data is encrypted incorrectly.",
            "When bits sent on different wires arrive at their destination at different times.",
            "When data is sent in the wrong direction.",
            "When the transmission speed is too high."
        ],
        "answer": "When bits sent on different wires arrive at their destination at different times."
    },
    {
        "question": "A user connects their smartphone to a computer's USB port. Which of the following can happen simultaneously?",
        "options": [
            "The phone can only charge but cannot transfer data.",
            "The computer can only send data to the phone, but not receive.",
            "The phone can charge while also transferring data to and from the computer.",
            "The data can only be transferred, but the phone cannot be charged."
        ],
        "answer": "The phone can charge while also transferring data to and from the computer."
    }
];

        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const scoreText = document.getElementById('score-text');
        const redoBtn = document.getElementById('redo-btn');

        let score = 0;
        let questionsAnswered = 0;

        /**
         * NEW: Function to shuffle an array in place using the Fisher-Yates algorithm.
         * @param {Array} array The array to shuffle.
         * @returns {Array} The shuffled array.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }

        // MODIFIED: Function to build and display the quiz
        function buildQuiz() {
            quizContainer.innerHTML = '';
            
            // Create a shuffled copy of the questions to not alter the original array
            const shuffledQuestions = shuffleArray([...quizData]);

            shuffledQuestions.forEach((currentQuestion, questionNumber) => {
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('question-block');

                const questionTitle = document.createElement('h2');
                questionTitle.classList.add('text-lg', 'font-semibold', 'mb-4');
                questionTitle.innerText = `${questionNumber + 1}. ${currentQuestion.question}`;
                questionDiv.appendChild(questionTitle);

                const optionsDiv = document.createElement('div');
                optionsDiv.classList.add('grid', 'grid-cols-1', 'sm:grid-cols-2', 'gap-3');
                
                // Create a shuffled copy of the options for the current question
                const shuffledOptions = shuffleArray([...currentQuestion.options]);

                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('quiz-option', 'w-full', 'p-3', 'text-left', 'border-2', 'border-gray-300', 'rounded-lg', 'hover:bg-gray-100', 'hover:border-blue-500', 'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-400');
                    button.innerText = option;
                    // Pass the whole question object and the options container for context
                    button.onclick = () => selectAnswer(button, option, currentQuestion, optionsDiv);
                    optionsDiv.appendChild(button);
                });

                questionDiv.appendChild(optionsDiv);
                quizContainer.appendChild(questionDiv);
            });
        }

        // MODIFIED: Function to handle answer selection
        function selectAnswer(selectedButton, selectedOption, currentQuestion, optionsContainer) {
            const options = optionsContainer.querySelectorAll('.quiz-option');
            const correctAnswer = currentQuestion.answer;

            // Disable all buttons for this question to prevent changing the answer
            options.forEach(button => {
                button.disabled = true;
                if (button.innerText === correctAnswer) {
                    button.classList.add('correct');
                }
            });

            if (selectedOption !== correctAnswer) {
                selectedButton.classList.add('incorrect');
            } else {
                score++;
            }

            questionsAnswered++;

            // Check if all questions have been answered
            if (questionsAnswered === quizData.length) {
                showResults();
            }
        }

        // Function to display the final score
        function showResults() {
            scoreText.innerText = `You scored ${score} out of ${quizData.length}!`;
            resultsContainer.classList.remove('hidden');
        }

        // Function to reset the quiz
        function redoQuiz() {
            score = 0;
            questionsAnswered = 0;
            resultsContainer.classList.add('hidden');
            
            // Re-build the quiz to get a new random order
            buildQuiz();

            quizContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Event listener for the redo button
        redoBtn.addEventListener('click', redoQuiz);

        // Initialize the quiz when the page loads
        document.addEventListener('DOMContentLoaded', buildQuiz);
    </script>
</body>
</html>